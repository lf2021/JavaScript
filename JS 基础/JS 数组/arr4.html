<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>arr4</title>
</head>

<body>
  <script type="text/javascript">
    //数组中常用方法
    var arr = ['a', 'b', 'c', 'd'];
    var res = arr.join(); //a,b,c,d,默认以','拼接
    res = arr.join(','); //a,b,c,d
    res = arr.join(''); //abcd
    console.log(res);
    //倒序
    res = arr.reverse();
    console.log(res);
    //排序
    var arr = ['a', 'b', 'c', 'A', 'B', 'C'];
    arr.sort();
    console.log(arr); // ["A", "B", "C", "a", "b", "c"]
    var arr = [1, 2, 3, 11, 12, 20];
    arr.sort();
    console.log(arr); // [1, 11, 12, 2, 20, 3] 默认按字符的Unicode编码来排序的
    arr.sort(function (a, b) {
      return a - b;
    });
    console.log(arr); // [1, 2, 3, 11, 12, 20] 从小到大的排序
    arr.sort(function (a, b) {
      return b - a;
    });
    console.log(arr); // [20, 12, 11, 3, 2, 1] 从大到小的排序

    var users = [{
        username: 'king',
        age: 12
      },
      {
        username: 'queen',
        age: 22
      },
      {
        username: 'zhangsan',
        age: 42
      },
      {
        username: 'rose',
        age: 66
      },
    ];
    users.sort(function (a, b) {
      if (a.username > b.username) return 1;
      if (a.username < b.username) return -1;
      return 0;
    });
    // console.log(users);
    for (var i in users) {
      console.log(users[i].username);
    }

    //concat() 方法用于连接两个或多个数组。
    // 该方法不会改变现有的数组，而仅仅会返回被连接数组的一个副本。
    var arr = [1, 2, 3];
    res = arr.concat(4, 5, 6);
    res = arr.concat([4, 5, 6]);
    res = arr.concat([4, 5, 6], [7, 8, 9]);
    res = arr.concat([11, [12, [13]]]);
    console.log(res);

    //slice() 方法可从已有的数组中返回选定的元素。
    /*
    arrayObject.slice(start,end)
    返回一个新的数组，包含从 start 到 end （不包括该元素）的 arrayObject 中的元素。
    */
    var arr = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];
    res = arr.slice(0, 3);
    res = arr.slice(2, -3); //['c','d','e']
    res = arr.slice(4); // ["e", "f", "g", "h"]
    res = arr.slice(-5, -2); // ["d", "e", "f"]
    console.log(res);

    //splice() 方法向/从数组中添加/删除项目，然后返回被删除的项目。
    /* arrayObject.splice(index,howmany,item1,.....,itemX)
    index	必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。
    howmany	必需。要删除的项目数量。如果设置为 0，则不会删除项目。
    item1, ..., itemX	可选。向数组添加的新项目。*/
    var arr = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];
    res = arr.splice(0, 1); //["a"]     ['b','c','d','e','f','g','h']
    res = arr.splice(5); // ["g", "h"]     ['b','c','d','e','f']
    res = arr.splice(0, 2, '!', '?', '%'); // ["b", "c"]    ["!", "?", "%", "d", "e", "f"]
    console.log(res);
    console.log(arr);


    //map() 方法返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值
    var arr = [1, 2, 3, 4, 5, 6];
    res = arr.map(function (x) {
      return x * x;
    });
    console.log(res); //平方操作

    var arr = ['a!', 'b!', 'c', 'd!', 'e'];
    res = arr.map(Trans);

    function Trans(x) {
      return x.replace(/!/g, '?').toUpperCase();
    }
    console.log(res); // ["A?", "B?", "C", "D?", "E"]



    //filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素
    // 注意：filter() 不会改变原始数组。 filter() 不会对空数组进行检测。
    var arr = [1, 2, 3, 4, 678678, 767, 6, 445, null, undefined, false, true, ''];
    res = arr.filter(function (x) {
      return x <= 10;
    }); //[1,2,3,4,6]
    res = arr.filter(function (x) {
      return x % 2 == 0;
    }); //[2, 4, 678678, 6]
    res = arr.filter(function (x) {
      return x !== undefined && x !== null;
    });
    console.log(res);


    //reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值
    var arr = [1, 2, 3, 4, 5];
    res = arr.reduce(function (a, b) {
      return a + b;
    });
    res = arr.reduce(function (a, b) {
      return a + b;
    }, 10);
    console.log(res);


    //every() 方法用于检测数组所有元素是否都符合指定条件（通过函数提供）
    var age = [32, 34, 55, 66, 28, 19];
    res = age.every(function (x) {
      return x >= 18;
    });
    console.log(res);


    //some() 方法用于检测数组中的元素是否满足指定条件（函数提供）
    var age = [32, 34, 55, 66, 28, 19];
    res = age.some(function (x) {
      return x >= 18;
    });
    console.log(res);

    //indexOf() 方法可返回某个指定的字符串值在字符串中首次出现的位置。
    var arr = ['a', 'b', 'c', 'd', 'e', 'a', 'bv', 'a'];
    res = arr.indexOf('a'); //0
    res = arr.indexOf('A'); //-1
    res = arr.indexOf('a', 2); //-1
    res = arr.lastIndexOf('a');
    console.log(res); //7


    //isArray
    console.log(Array.isArray(arr)); //true
    console.log(Array.isArray([])); //true
    console.log(Array.isArray({})); //false

    //toString()
    var arr = ['a', 'b', 'c', 'd', 'e', 'a', 'bv', 'a'];
    console.log(arr.toString()); //a,b,c,d,e,a,bv,a
    console.log(arr.join()); //a,b,c,d,e,a,bv,a
  </script>
</body>

</html>